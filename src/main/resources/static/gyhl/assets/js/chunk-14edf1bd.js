(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14edf1bd"],{8771:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"设备资料详情"}},[a("el-form",{ref:"form",staticClass:"page_form",attrs:{model:e.form,rules:e.rulesForm,"label-width":"120px",size:"mini"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"设备编号：",prop:"serialno"}},[a("el-input",{model:{value:e.form.serialno,callback:function(t){e.$set(e.form,"serialno",t)},expression:"form.serialno"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"设备名称：",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"设备类别：",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择设备类别"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.deviceType,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"品牌："}},[a("el-input",{model:{value:e.form.factory,callback:function(t){e.$set(e.form,"factory",t)},expression:"form.factory"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"规格型号："}},[a("el-input",{model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"主设备："}},[a("el-select",{attrs:{placeholder:"请选择主设备"},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}},e._l(e.deviceList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"购置时间："}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.form.buyTime,callback:function(t){e.$set(e.form,"buyTime",t)},expression:"form.buyTime"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"使用年限："}},[a("el-input",{model:{value:e.form.serviceYear,callback:function(t){e.$set(e.form,"serviceYear",t)},expression:"form.serviceYear"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"设备来源："}},[a("el-select",{attrs:{placeholder:"请选择使用状况"},model:{value:e.form.souceId,callback:function(t){e.$set(e.form,"souceId",t)},expression:"form.souceId"}},e._l(e.deviceSource,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"启用时间："}},[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.form.usingTime,callback:function(t){e.$set(e.form,"usingTime",t)},expression:"form.usingTime"}})],1)],1)],1),a("p",{staticClass:"xian"}),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"使用部门："}},[a("el-select",{attrs:{placeholder:"请选择使用状况"},model:{value:e.form.deptId,callback:function(t){e.$set(e.form,"deptId",t)},expression:"form.deptId"}},e._l(e.deviceDept,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"负责人：",prop:"userId"}},[a("el-select",{attrs:{placeholder:"请选择负责人"},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.deviceDept,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"使用状况：",prop:"usingStatus"}},[a("el-select",{attrs:{placeholder:"请选择使用状况"},model:{value:e.form.usingStatus,callback:function(t){e.$set(e.form,"usingStatus",t)},expression:"form.usingStatus"}},e._l(e.deviceStatus,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"设备用途："}},[a("el-select",{attrs:{placeholder:"请选择使用状况"},model:{value:e.form.deviceUse,callback:function(t){e.$set(e.form,"deviceUse",t)},expression:"form.deviceUse"}},e._l(e.devicePurpose,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"安装地点："}},[a("el-input",{model:{value:e.form.site,callback:function(t){e.$set(e.form,"site",t)},expression:"form.site"}})],1)],1)],1),a("p",{staticClass:"xian"}),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"生产商："}},[a("el-select",{attrs:{placeholder:"请选择生产商"},on:{change:e.producerFun},model:{value:e.form.factoryId,callback:function(t){e.$set(e.form,"factoryId",t)},expression:"form.factoryId"}},e._l(e.supplierList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.supplierLegalperson,callback:function(t){e.$set(e.form,"supplierLegalperson",t)},expression:"form.supplierLegalperson"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"生产商地址："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.supplierAddress,callback:function(t){e.$set(e.form,"supplierAddress",t)},expression:"form.supplierAddress"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系电话："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.supplierPhone,callback:function(t){e.$set(e.form,"supplierPhone",t)},expression:"form.supplierPhone"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"供应商："}},[a("el-select",{attrs:{placeholder:"请选择供应商"},on:{change:e.supplierFun},model:{value:e.form.supplierId,callback:function(t){e.$set(e.form,"supplierId",t)},expression:"form.supplierId"}},e._l(e.facilitatorList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.facilitatorLegalperson,callback:function(t){e.$set(e.form,"facilitatorLegalperson",t)},expression:"form.facilitatorLegalperson"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"供应商地址："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.facilitatorAddress,callback:function(t){e.$set(e.form,"facilitatorAddress",t)},expression:"form.facilitatorAddress"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系电话："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.facilitatorPhone,callback:function(t){e.$set(e.form,"facilitatorPhone",t)},expression:"form.facilitatorPhone"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"服务商："}},[a("el-select",{attrs:{placeholder:"请选择供应商"},on:{change:e.serviceFun},model:{value:e.form.serviceId,callback:function(t){e.$set(e.form,"serviceId",t)},expression:"form.serviceId"}},e._l(e.producerList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系人："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.producerLegalperson,callback:function(t){e.$set(e.form,"producerLegalperson",t)},expression:"form.producerLegalperson"}})],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"服务商地址："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.producerAddress,callback:function(t){e.$set(e.form,"producerAddress",t)},expression:"form.producerAddress"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"联系电话："}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.producerPhone,callback:function(t){e.$set(e.form,"producerPhone",t)},expression:"form.producerPhone"}})],1)],1)],1),a("p",{staticClass:"xian"}),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save("form")}}},[e._v("保 存")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"维修记录"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"},on:{click:e.maintainAdd}},[e._v("增加")]),a("el-button",{attrs:{size:"mini"},on:{click:e.maintainDel}},[e._v("删除")]),a("el-button",{attrs:{size:"mini"}},[e._v("维修处理")]),a("el-button",{attrs:{size:"mini"}},[e._v("完工验收")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.maintainList},on:{"selection-change":e.ckMaintainAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"serialNo","show-overflow-tooltip":"",label:"故障单号"}}),a("el-table-column",{attrs:{prop:"level",label:"故障等级"}}),a("el-table-column",{attrs:{prop:"heldPersonName",label:"维修部门"}}),a("el-table-column",{attrs:{prop:"deptName",label:"维修责任人"}}),a("el-table-column",{attrs:{prop:"expireDate",label:"维修成本"}}),a("el-table-column",{attrs:{prop:"gmtTime","show-overflow-tooltip":"",label:"保修时间"}}),a("el-table-column",{attrs:{prop:"applyPersonName","show-overflow-tooltip":"",label:"维修开始时间"}}),a("el-table-column",{attrs:{prop:"createTime","show-overflow-tooltip":"",label:"维修完成时间"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"维修工时"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"维修状态"}})],1),a("el-pagination",{attrs:{"current-page":e.pgMaintain.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pgMaintain.pagesize,layout:"prev, pager, next,sizes",total:e.maintainTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pgMaintain,"pageno",t)},"update:current-page":function(t){return e.$set(e.pgMaintain,"pageno",t)},"size-change":e.maintainSizeChange,"current-change":e.maintainCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"保养记录"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.$router.push({path:"/upkeep_detail"})}}},[e._v("增加")]),a("el-button",{attrs:{size:"mini"},on:{click:e.upkeepDel}},[e._v("删除")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.upkeepList},on:{"selection-change":e.ckUpkeepAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title",label:"保养时间"}}),a("el-table-column",{attrs:{prop:"statusName",label:"保养项目"}}),a("el-table-column",{attrs:{prop:"heldPersonName",label:"保养方法"}}),a("el-table-column",{attrs:{prop:"deptName",label:"任务状态"}}),a("el-table-column",{attrs:{prop:"expireDate",label:"保养完成时间"}}),a("el-table-column",{attrs:{prop:"checkTime",label:"保养工时"}}),a("el-table-column",{attrs:{prop:"applyPersonName","show-overflow-tooltip":"",label:"保养结果"}}),a("el-table-column",{attrs:{prop:"createTime","show-overflow-tooltip":"",label:"保养费用"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"保养计划单号"}})],1),a("el-pagination",{attrs:{"current-page":e.pgUpkeep.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pgUpkeep.pagesize,layout:"prev, pager, next,sizes",total:e.upkeepTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pgUpkeep,"pageno",t)},"update:current-page":function(t){return e.$set(e.pgUpkeep,"pageno",t)},"size-change":e.upkeepSizeChange,"current-change":e.upkeepCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"巡检记录"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.$router.push({path:"/upkeep_detail"})}}},[e._v("增加")]),a("el-button",{attrs:{size:"mini"},on:{click:e.upkeepDel}},[e._v("删除")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.pollingList},on:{"selection-change":e.ckPollingAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"巡检单号"}}),a("el-table-column",{attrs:{prop:"statusName",label:"巡检人员"}}),a("el-table-column",{attrs:{prop:"heldPersonName",label:"计划名称"}}),a("el-table-column",{attrs:{prop:"deptName",label:"巡检项目"}}),a("el-table-column",{attrs:{prop:"expireDate","show-overflow-tooltip":"",label:"巡检标准"}}),a("el-table-column",{attrs:{prop:"checkTime","show-overflow-tooltip":"",label:"巡检结果"}}),a("el-table-column",{attrs:{prop:"applyPersonName","show-overflow-tooltip":"",label:"任务状态"}}),a("el-table-column",{attrs:{prop:"createTime","show-overflow-tooltip":"",label:"使用状况"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"计划完成时间"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"实际完成时间"}})],1),a("el-pagination",{attrs:{"current-page":e.pgPolling.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pgPolling.pagesize,layout:"prev, pager, next,sizes",total:e.pollingTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pgPolling,"pageno",t)},"update:current-page":function(t){return e.$set(e.pgPolling,"pageno",t)},"size-change":e.pollingSizeChange,"current-change":e.pollingCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"附属子设备"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"},on:{click:e.auxiliarD}},[e._v("添加子设备")]),a("el-button",{attrs:{size:"mini"}},[e._v("增加")]),a("el-button",{attrs:{size:"mini"},on:{click:e.auxiliaryDel}},[e._v("删除")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.auxiliaryList},on:{"selection-change":e.ckAuxiliaryAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"任务主题"}}),a("el-table-column",{attrs:{prop:"statusName",width:"100",label:"处理状态"}}),a("el-table-column",{attrs:{prop:"heldPersonName",width:"100",label:"责任人"}}),a("el-table-column",{attrs:{prop:"deptName",width:"100",label:"责任部门"}}),a("el-table-column",{attrs:{prop:"expireDate",label:"要求完成时间"}}),a("el-table-column",{attrs:{prop:"checkTime",label:"要求验收时间"}}),a("el-table-column",{attrs:{prop:"applyPersonName","show-overflow-tooltip":"",label:"发起人"}}),a("el-table-column",{attrs:{prop:"createTime","show-overflow-tooltip":"",label:"发起时间"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"任务编号"}})],1),a("el-pagination",{attrs:{"current-page":e.pgAuxiliary.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pgAuxiliary.pagesize,layout:"prev, pager, next,sizes",total:e.auxiliaryTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pgAuxiliary,"pageno",t)},"update:current-page":function(t){return e.$set(e.pgAuxiliary,"pageno",t)},"size-change":e.auxiliarySizeChange,"current-change":e.auxiliaryCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"关联备件"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"}},[e._v("选择备件")]),a("el-button",{attrs:{size:"mini"}},[e._v("删除")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.dataList},on:{"selection-change":e.ckRelevanceAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"备件编号"}}),a("el-table-column",{attrs:{prop:"statusName",label:"备件名称"}}),a("el-table-column",{attrs:{prop:"heldPersonName",label:"备件型号"}}),a("el-table-column",{attrs:{prop:"deptName",label:"库位"}})],1),a("el-pagination",{attrs:{"current-page":e.pg.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pg.pagesize,layout:"prev, pager, next,sizes",total:e.allTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pg,"pageno",t)},"update:current-page":function(t){return e.$set(e.pg,"pageno",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"文档资料"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"}},[e._v("增加")]),a("el-button",{attrs:{size:"mini"}},[e._v("删除")]),a("el-button",{attrs:{size:"mini"}},[e._v("打印")]),a("el-button",{attrs:{size:"mini"}},[e._v("下载")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.dataList},on:{"selection-change":e.ckDocumentAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"文档名称"}}),a("el-table-column",{attrs:{prop:"statusName",label:"文档类型"}}),a("el-table-column",{attrs:{prop:"heldPersonName",label:"来源"}}),a("el-table-column",{attrs:{prop:"deptName",label:"版本号"}}),a("el-table-column",{attrs:{prop:"expireDate",label:"上传人"}}),a("el-table-column",{attrs:{prop:"checkTime","show-overflow-tooltip":"",label:"上传时间"}})],1),a("el-pagination",{attrs:{"current-page":e.pg.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pg.pagesize,layout:"prev, pager, next,sizes",total:e.allTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pg,"pageno",t)},"update:current-page":function(t){return e.$set(e.pg,"pageno",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"设备参数"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"}},[e._v("增加")]),a("el-button",{attrs:{size:"mini"}},[e._v("删除")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.facilityList},on:{"selection-change":e.ckFacilityAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"编号"}}),a("el-table-column",{attrs:{prop:"statusName",label:"参数名称"}}),a("el-table-column",{attrs:{prop:"heldPersonName",label:"数值"}}),a("el-table-column",{attrs:{prop:"deptName",label:"录入人"}}),a("el-table-column",{attrs:{prop:"expireDate",label:"录入时间"}}),a("el-table-column",{attrs:{prop:"checkTime","show-overflow-tooltip":"",label:"备注"}})],1),a("el-pagination",{attrs:{"current-page":e.pgFacility.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pgFacility.pagesize,layout:"prev, pager, next,sizes",total:e.facilityTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pgFacility,"pageno",t)},"update:current-page":function(t){return e.$set(e.pgFacility,"pageno",t)},"size-change":e.facilitySizeChange,"current-change":e.facilityCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"安监管理"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"}},[e._v("增加")]),a("el-button",{attrs:{size:"mini"}},[e._v("删除")]),a("el-button",{attrs:{size:"mini"}},[e._v("打印")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.dataList},on:{"selection-change":e.ckSafetyAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"任务主题"}}),a("el-table-column",{attrs:{prop:"statusName",width:"100",label:"处理状态"}}),a("el-table-column",{attrs:{prop:"heldPersonName",width:"100",label:"责任人"}}),a("el-table-column",{attrs:{prop:"deptName",width:"100",label:"责任部门"}}),a("el-table-column",{attrs:{prop:"expireDate",label:"要求完成时间"}}),a("el-table-column",{attrs:{prop:"checkTime",label:"要求验收时间"}}),a("el-table-column",{attrs:{prop:"applyPersonName","show-overflow-tooltip":"",label:"发起人"}}),a("el-table-column",{attrs:{prop:"createTime","show-overflow-tooltip":"",label:"发起时间"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"任务编号"}})],1),a("el-pagination",{attrs:{"current-page":e.pg.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pg.pagesize,layout:"prev, pager, next,sizes",total:e.allTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pg,"pageno",t)},"update:current-page":function(t){return e.$set(e.pg,"pageno",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-tab-pane",{attrs:{label:"保险记录"}},[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"}},[e._v("增加")]),a("el-button",{attrs:{size:"mini"}},[e._v("删除")])],1),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.dataList},on:{"selection-change":e.ckSafetyAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"承包险别"}}),a("el-table-column",{attrs:{prop:"statusName",label:"保险金额/理赔限额"}}),a("el-table-column",{attrs:{prop:"heldPersonName",label:"保险费"}}),a("el-table-column",{attrs:{prop:"deptName",label:"投保开始时间"}}),a("el-table-column",{attrs:{prop:"expireDate",label:"投保结束时间"}}),a("el-table-column",{attrs:{prop:"checkTime",label:"保险公司名称"}}),a("el-table-column",{attrs:{prop:"applyPersonName","show-overflow-tooltip":"",label:"理赔时间"}}),a("el-table-column",{attrs:{prop:"createTime","show-overflow-tooltip":"",label:"理赔金额"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"保险业务员"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"经办人"}})],1),a("el-pagination",{attrs:{"current-page":e.pg.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pg.pagesize,layout:"prev, pager, next,sizes",total:e.allTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pg,"pageno",t)},"update:current-page":function(t){return e.$set(e.pg,"pageno",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"增加子设备",visible:e.dialogAuxiliary},on:{"update:visible":function(t){e.dialogAuxiliary=t}}},[a("div",{staticClass:"header_search mt-20"},[a("p",[e._v("\n                设备名称：\n                "),a("el-input",{attrs:{placeholder:"设备名字或编码"},model:{value:e.pgSubset.name,callback:function(t){e.$set(e.pgSubset,"name",t)},expression:"pgSubset.name"}}),e._v("\n                设备类型：\n                "),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.pgSubset.type,callback:function(t){e.$set(e.pgSubset,"type",t)},expression:"pgSubset.type"}},e._l(e.deviceType,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v("\n                使用部门：\n                "),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.pgSubset.deptId,callback:function(t){e.$set(e.pgSubset,"deptId",t)},expression:"pgSubset.deptId"}},e._l(e.deviceDept,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),a("el-button",{staticClass:"r sub_btn",attrs:{size:"mini"},on:{click:e.auxiliarAdd}},[e._v("查询")])],1)]),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:e.subsetList},on:{"selection-change":e.ckSubsetAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"serialno",label:"设备编号"}}),a("el-table-column",{attrs:{prop:"name","show-overflow-tooltip":"",label:"设备名称"}}),a("el-table-column",{attrs:{prop:"model",label:"规格型号"}}),a("el-table-column",{attrs:{prop:"type",label:"设备类型"}}),a("el-table-column",{attrs:{prop:"deptId",label:"使用部门"}})],1),a("el-pagination",{attrs:{"current-page":e.pgSubset.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":e.pgSubset.pagesize,layout:"prev, pager, next,sizes",total:e.subsetTotal,small:!0},on:{"update:currentPage":function(t){return e.$set(e.pgSubset,"pageno",t)},"update:current-page":function(t){return e.$set(e.pgSubset,"pageno",t)},"size-change":e.subsetSizeChange,"current-change":e.subsetCurrentChange}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogAuxiliary=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.auxiliaySave}},[e._v("确 定")])],1)],1)],1)},i=[],o=(a("ac6a"),{data:function(){return{form:{},rulesForm:{serialno:[{required:!0,message:"请填写设备编号",trigger:"blur"}],name:[{required:!0,message:"请填写设备名称",trigger:"blur"}],type:[{required:!0,message:"请选择设备类别",trigger:"change"}],userId:[{required:!0,message:"请选择负责人",trigger:"change"}],usingStatus:[{required:!0,message:"请选择使用状况",trigger:"change"}]},isNew:!1,allTotal:0,dataList:[],pg:{pageno:1,pagesize:10},deviceType:[],deviceStatus:[],deviceDept:[],deviceSource:[],deviceUser:[],deviceList:[],devicePurpose:[],relevanceAll:[],documentAll:[],safetyAll:[],facilitatorList:[],supplierList:[],producerList:[],pgMaintain:{pageno:1,pagesize:20},maintainList:[],maintainTotal:0,maintainAll:[],pgFacility:{pageno:1,pagesize:20},facilityList:[],facilityTotal:0,facilityAll:[],pgPolling:{pageno:1,pagesize:20},pollingList:[],pollingTotal:0,pollingAll:[],auxiliaryList:[],pgAuxiliary:{pageno:1,pagesize:20,id:""},auxiliaryTotal:0,auxiliaryAll:[],dialogAuxiliary:!1,subsetList:[],subsetAll:[],subsetTotal:0,pgSubset:{pageno:1,pagesize:20,deptId:"",type:"",name:""},upkeepAll:[],upkeepList:[],upkeepTotal:0,pgUpkeep:{pageno:1,pagesize:20,userId:JSON.parse(sessionStorage.getItem("userInfo")).userId}}},inject:["reload"],methods:{producerFun:function(e){var t=this;this.supplierList.forEach(function(a){e===a.id&&(t.form.supplierAddress=a.address,t.form.supplierLegalperson=a.legalperson,t.form.supplierPhone=a.phone)})},supplierFun:function(e){var t=this;this.facilitatorList.forEach(function(a){e===a.id&&(t.form.facilitatorAddress=a.address,t.form.facilitatorLegalperson=a.legalperson,t.form.facilitatorPhone=a.phone)})},serviceFun:function(e){var t=this;this.producerList.forEach(function(a){e===a.id&&(t.form.producerAddress=a.address,t.form.producerLegalperson=a.legalperson,t.form.producerPhone=a.phone)})},save:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.isNew?t.deviceAdd(a.form).then(function(e){0===e.code?(a.$msg.s(e.msg),a.$router.push({path:"/equipment_accountList"})):a.$msg.e(e.msg)}):t.deviceEdit(a.form).then(function(e){0===e.code?(a.$msg.s(e.msg),a.reload()):a.$msg.e(e.msg)})})},ckPollingAll:function(e){this.pollingAll=e},ckRelevanceAll:function(e){this.auxiliaryAll=e},ckDocumentAll:function(e){this.documentAll=e},ckFacilityAll:function(e){this.facilityAll=e},ckSafetyAll:function(e){this.safetyAll=e},initialize:function(){var e=this;this.dictGetDictsByTpe({type:"device_type"}).then(function(t){0===t.code&&(e.deviceType=t.datas)}),this.deviceGetFatherDevice().then(function(t){0===t.code&&(e.deviceList=t.data)}),this.dictGetDictsByTpe({type:"device_source"}).then(function(t){0===t.code&&(e.deviceSource=t.datas)}),this.commonGetDepts().then(function(t){0===t.code&&(e.deviceDept=t.datas)}),this.commonGetUser().then(function(t){0===t.code&&(e.deviceUser=t.datas)}),this.dictGetDictsByTpe({type:"device_status"}).then(function(t){0===t.code&&(e.deviceStatus=t.datas)}),this.dictGetDictsByTpe({type:"device_purpose"}).then(function(t){0===t.code&&(e.devicePurpose=t.datas)}),this.supplierSperType({sper_type:2}).then(function(t){0===t.code&&(e.producerList=t.data)}),this.supplierSperType({sper_type:1}).then(function(t){0===t.code&&(e.supplierList=t.data)}),this.supplierSperType({sper_type:3}).then(function(t){0===t.code&&(e.facilitatorList=t.data)}),!1===this.isNew&&this.deviceDetail({deviceId:this.$route.query.id}).then(function(t){0===t.code&&(e.form=t.data,t.data.factoryId&&e.supplierList.forEach(function(a){t.data.factoryId===a.id&&(e.form.supplierAddress=a.address,e.form.supplierLegalperson=a.legalperson,e.form.supplierPhone=a.phone)}),t.data.supplierId&&e.facilitatorList.forEach(function(a){t.data.supplierId===a.id&&(e.form.facilitatorAddress=a.address,e.form.facilitatorLegalperson=a.legalperson,e.form.facilitatorPhone=a.phone)}),t.data.serviceId&&e.producerList.forEach(function(a){t.data.serviceId===a.id&&(e.form.producerAddress=a.address,e.form.producerLegalperson=a.legalperson,e.form.producerPhone=a.phone)}))})},handleSizeChange:function(){},handleCurrentChange:function(){},maintainFun:function(){var e=this;this.repairEventEventList(e.pgMaintain).then(function(t){0===t.code&&(e.maintainList=t.data?t.data.datas:[],e.maintainTotal=t.data?t.data.totalRows:0)})},maintainSizeChange:function(e){this.pgMaintain.pagesize=e,this.maintainFun()},maintainCurrentChange:function(e){this.pgMaintain.pageno=e,this.maintainFun()},ckMaintainAll:function(e){this.maintainAll=e},maintainDel:function(){this.maintainAll.length>0||this.$msg.e("请至少选择一条维修记录删除")},maintainAdd:function(){this.$route.query.id?this.$router.push({path:"/maintenance_record",query:{id:this.$route.query.id}}):this.$msg.e("请先添加保修资料详情")},facilityFun:function(){var e=this;this.deviceArgDeviceArgList(e.pgFacility).then(function(t){0===t.code&&(e.facilityList=t.data?t.data.datas:[],e.facilityTotal=t.data?t.data.totalRows:0)})},facilitySizeChange:function(e){this.pgFacility.pagesize=e,this.facilityFun()},facilityCurrentChange:function(e){this.pgFacility.pageno=e,this.facilityFun()},pollingFun:function(){var e=this;this.deviceArgDeviceArgList(e.pgPolling).then(function(t){0===t.code&&(e.facilityList=t.data?t.data.datas:[],e.facilityTotal=t.data?t.data.totalRows:0)})},pollingSizeChange:function(e){this.pgPolling.pagesize=e,this.facilityFun()},pollingCurrentChange:function(e){this.pgPolling.pageno=e,this.facilityFun()},auxiliaySave:function(){var e=this;if(this.subsetAll.length>0){var t=[];this.subsetAll.forEach(function(e){t.push(e.id)}),this.deviceChildenFatherAddChilds({ids:t,id:e.form.parentId}).then(function(t){0===t.code?(e.$msg.s(t.msg),e.dialogAuxiliary=!1,e.auxiliaryFun()):e.$msg.e(t.msg)})}else this.$msg.s("请至少选择一条要添加的子设备")},auxiliarD:function(){this.$route.query.id&&this.form.parentId?(this.dialogAuxiliary=!0,this.auxiliarAdd()):this.$msg.s("请新增设备资料详情并选择主设备")},auxiliarAdd:function(){var e=this;this.deviceChildenChildDevice(this.pgSubset).then(function(t){0===t.code&&(e.subsetList=t.data?t.data.datas:[],e.subsetTotal=t.data?t.data.totalRows:0)})},ckSubsetAll:function(e){this.subsetAll=e},subsetSizeChange:function(){this.pgSubset.pagesize=val,this.auxiliaryFun()},subsetCurrentChange:function(){this.pgSubset.pagesize=val,this.auxiliaryFun()},auxiliaryDel:function(){if(this.auxiliaryAll.length>0){var e=this,t=[];this.$confirm("是否确定删除已选中的子设备?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.auxiliaryAll.forEach(function(e){t.push(e.id)}),e.deviceChildenUnparent({ids:t}).then(function(t){0===t.code&&(e.$msg.s(t.msg),e.auxiliaryFun())})}).catch(function(){})}else this.$msg.e("请至选择一条附属子设备")},ckAuxiliaryAll:function(e){this.auxiliaryAll=e},auxiliaryFun:function(e){var t=this;this.form.parentId?(this.pgAuxiliary.id=this.form.parentId,this.deviceChildenListChild(this.pgAuxiliary).then(function(e){0===e.code&&(t.auxiliaryList=e.data?e.data.datas:[],t.auxiliaryTotal=e.data?e.data.totalRows:0)})):this.form.parentId||1===e||this.$msg.e("请至设备资料详情")},auxiliarySizeChange:function(e){this.pgPolling.pagesize=e,this.auxiliaryFun()},auxiliaryCurrentChange:function(e){this.pgPolling.pageno=e,this.auxiliaryFun()},upkeepDel:function(){var e=this;if(this.upkeepAll.length>0){var t=this,a=[];this.$confirm("是否确定删除已选中的保养记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.upkeepAll.forEach(function(e){a.push(e.id)}),t.upkeepRecordDelete({id:a}).then(function(t){0===t.code&&e.$msg.s(t.msg)})}).catch(function(){})}else this.$msg.e("请至选择一条保养记录")},ckUpkeepAll:function(e){this.upkeepAll=e},upkeepSizeChange:function(e){this.pgPolling.pagesize=e,this.upKeepFun()},upkeepCurrentChange:function(e){this.pgPolling.pageno=e,this.upKeepFun()},upKeepFun:function(){var e=this;this.upkeepRecordRecordListForUser(e.pgUpkeep).then(function(t){0===t.code&&(e.upkeepList=t.data?t.data.datas:[],e.upkeepTotal=t.data?t.data.totalRows:0)})}},mounted:function(){this.initialize(),this.$route.query.id?(this.isNew=!1,this.pgMaintain.deviceId=this.$route.query.id,this.pgFacility.deviceId=this.$route.query.id,this.pgPolling.deviceId=this.$route.query.id,this.maintainFun(),this.facilityFun(),this.auxiliaryFun(1),this.upKeepFun()):this.isNew=!0}}),s=o,r=a("2877"),n=Object(r["a"])(s,l,i,!1,null,"71347a2a",null);t["default"]=n.exports},ac6a:function(e,t,a){for(var l=a("cadf"),i=a("0d58"),o=a("2aba"),s=a("7726"),r=a("32e9"),n=a("84f2"),p=a("2b4c"),c=p("iterator"),u=p("toStringTag"),d=n.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(m),g=0;g<f.length;g++){var h,b=f[g],v=m[b],y=s[b],k=y&&y.prototype;if(k&&(k[c]||r(k,c,d),k[u]||r(k,u,b),n[b]=d,v))for(h in l)k[h]||o(k,h,l[h],!0)}}}]);