(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48720d1e"],{5140:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header_btn"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.$router.push({path:"/task_detail"})}}},[t._v("增加")]),a("el-button",{attrs:{size:"mini"},on:{click:t.remove}},[t._v("删除")])],1),a("div",{staticClass:"header_search mt-20"},[a("p",[t._v("\n                任务主题：\n                "),a("el-input",{model:{value:t.pg.title,callback:function(e){t.$set(t.pg,"title",e)},expression:"pg.title"}}),t._v("\n                发起人：\n                "),a("el-input",{model:{value:t.pg.createBy,callback:function(e){t.$set(t.pg,"createBy",e)},expression:"pg.createBy"}}),t._v("\n                处理状态：\n                "),a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.pg.status,callback:function(e){t.$set(t.pg,"status",e)},expression:"pg.status"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-button",{staticClass:"r sub_btn",attrs:{size:"mini"},on:{click:t.initialize}},[t._v("提交")]),t.more?t._e():a("a",{staticClass:"more_a r",on:{click:function(e){t.more=!t.more}}},[t._v("更多查询"),a("i",{staticClass:"el-icon-caret-bottom"})]),t.more?a("a",{staticClass:"more_a r",on:{click:function(e){t.more=!t.more}}},[t._v("收起查询"),a("i",{staticClass:"el-icon-caret-top"})]):t._e()],1),t.more?a("p",[t._v("\n                责任人：\n                "),a("el-input",{model:{value:t.pg.heldPerson,callback:function(e){t.$set(t.pg,"heldPerson",e)},expression:"pg.heldPerson"}}),t._v("\n                发起时间：\n                "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.pg.startTime,callback:function(e){t.$set(t.pg,"startTime",e)},expression:"pg.startTime"}})],1):t._e()]),a("el-table",{staticClass:"theme mt-20",staticStyle:{width:"100%"},attrs:{data:t.dataList},on:{"row-click":t.openDetails,"selection-change":t.ckAll}},[a("el-table-column",{attrs:{type:"selection",width:"50"}}),a("el-table-column",{attrs:{prop:"title","show-overflow-tooltip":"",label:"任务主题"}}),a("el-table-column",{attrs:{prop:"statusName",width:"100",label:"处理状态"}}),a("el-table-column",{attrs:{prop:"heldPersonName",width:"100",label:"责任人"}}),a("el-table-column",{attrs:{prop:"deptName",width:"100",label:"责任部门"}}),a("el-table-column",{attrs:{prop:"expireDate","show-overflow-tooltip":"",label:"要求完成时间"}}),a("el-table-column",{attrs:{prop:"checkTime","show-overflow-tooltip":"",label:"要求验收时间"}}),a("el-table-column",{attrs:{prop:"applyPersonName","show-overflow-tooltip":"",label:"发起人"}}),a("el-table-column",{attrs:{prop:"createTime","show-overflow-tooltip":"",label:"发起时间"}}),a("el-table-column",{attrs:{prop:"taskNo","show-overflow-tooltip":"",label:"任务编号"}})],1),a("el-pagination",{attrs:{"current-page":t.pg.pageno,"page-sizes":[10,20,30,40,50,100],"page-size":t.pg.pagesize,layout:"prev, pager, next,sizes",total:t.allTotal,small:!0},on:{"update:currentPage":function(e){return t.$set(t.pg,"pageno",e)},"update:current-page":function(e){return t.$set(t.pg,"pageno",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],s=(a("ac6a"),{name:"TaskList",data:function(){return{pg:{pageno:1,pagesize:10,title:"",createBy:"",status:"",heldPerson:"",startTime:"",endTime:""},allTotal:0,dataList:[],clAll:[],more:!1,options:[{value:"56",label:"待处理"},{value:"57",label:"待验收"},{value:"58",label:"已验收"}]}},methods:{acceptance:function(){1===this.clAll.length?this.$router.push({path:"/check_and_accept",query:{id:this.clAll[0].id,taskNo:this.clAll[0].taskNo,applyPersonName:this.clAll[0].applyPersonName}}):this.$msg.e("请选择待验收的任务，且只可选择一条")},dispose:function(){1===this.clAll.length?this.$router.push({path:"/dispose",query:{id:this.clAll[0].id,taskNo:this.clAll[0].taskNo,applyPersonName:this.clAll[0].applyPersonName}}):this.$msg.e("请选择待处理的任务，且只可选择一条")},remove:function(){var t=this;if(1===this.clAll.length)this.taskMainRemove({id:t.clAll[0].id}).then(function(e){0===e.code?(t.$msg.s(e.msg),t.initialize()):t.$msg.e(e.msg)});else if(this.clAll.length>1){var e=[];t.clAll.forEach(function(t){e.push(t.id)}),this.taskMainBatchRemove({ids:e}).then(function(e){0===e.code?(t.$msg.s(e.msg),t.initialize()):t.$msg.e(e.msg)})}else this.$msg.e("请至少选择一条任务")},openDetails:function(t,e,a){this.$router.push({path:"/task_Detail",query:{id:t.id}})},ckAll:function(t){this.clAll=t},initialize:function(){var t=this;this.taskMainList(t.pg).then(function(e){0===e.code?(t.dataList=e.data?e.data.datas:[],t.allTotal=e.data?e.data.totalRows:0):t.$msg.e(e.msg)})},handleSizeChange:function(t){this.pg.pagesize=t,this.initialize()},handleCurrentChange:function(t){this.pg.pageno=t,this.initialize()}},mounted:function(){this.initialize()}}),n=s,o=a("2877"),r=Object(o["a"])(n,l,i,!1,null,"ae3aeb20",null);e["default"]=r.exports},ac6a:function(t,e,a){for(var l=a("cadf"),i=a("0d58"),s=a("2aba"),n=a("7726"),o=a("32e9"),r=a("84f2"),c=a("2b4c"),p=c("iterator"),u=c("toStringTag"),h=r.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(m),g=0;g<d.length;g++){var f,b=d[g],v=m[b],k=n[b],L=k&&k.prototype;if(L&&(L[p]||o(L,p,h),L[u]||o(L,u,b),r[b]=h,v))for(f in l)L[f]||s(L,f,l[f],!0)}}}]);